<tool id="humann2_renorm_table" name="Renormalize HUMAnN2 table" version="0.6.1">
    <description></description>

    <macros>
        <import>humann2_macros.xml</import>
    </macros>

    <expand macro="requirements"/>
    <expand macro="stdio"/>

    <version_command>
<![CDATA[
    humann2_renorm_table --version
]]>
    </version_command>

    <command><![CDATA[
        humann2_renorm_table
            -i $input_table
            -o $output_table
            --norm $norm
    ]]></command>

    <inputs>
        <param name="input_table" type="data" format="tsv" label="Gene/pathway 
            table" help=""/>

        <param name="norm" type="select" label="Normalization scheme" help="(--norm)">
            <option value="cpm" selected="true">Copies per million</option>
            <option value="relab">Relative abundance</option>
        </param>
    </inputs>

    <outputs>
        <data format="tsv" name="output_table" label="Normalized table for 
            ${on_string} (HUMAnN2)" />
    </outputs>

    <tests>
        <test>
            <param name="input_table" value="humann2_fasta_pathabundance.tsv"/>
            <param name="norm" value="cpm"/>
            <output name="output_table" file="humann2_fasta_pathabundance_cpm_renormalized.tsv"/>
        </test>
        <test>
            <param name="input_table" value="humann2_fasta_pathabundance.tsv"/>
            <param name="norm" value="relab"/>
            <output name="output_table" file="humann2_fasta_pathabundance_relab_renormalized.tsv"/>
        </test>
    </tests>

    <help><![CDATA[
        **What it does**

        Renorm HUMAnN2 table is a tool for renormalizing table. Each level of a stratified table will be normalized using the desired scheme.

        HUMAnN is a pipeline for efficiently and accuretly profiling the presence/absence and abundance of microbial pathways in a community from metagenomic or metatranscriptomic sequencing data. `Read more about the tool <http://huttenhower.sph.harvard.edu/humann2/manual>`_.

    ]]></help>

    <citations>
    </citations>
</tool>